# ğŸ›¡ï¸ VAM Insurance Platform

<div align="center">

![VAM Insurance](https://img.shields.io/badge/VAM-Insurance-blue?style=for-the-badge)
![React](https://img.shields.io/badge/React-19.1.1-61DAFB?style=for-the-badge&logo=react)
![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-009688?style=for-the-badge&logo=fastapi)
![TypeScript](https://img.shields.io/badge/TypeScript-5.9.3-3178C6?style=for-the-badge&logo=typescript)
![Python](https://img.shields.io/badge/Python-3.11-3776AB?style=for-the-badge&logo=python)

**Ná»n táº£ng Báº£o hiá»ƒm ThÃ´ng minh Káº¿t há»£p AI & PhÃ¢n tÃ­ch Rá»§i ro ThiÃªn tai**

[ğŸ¬ Demo Video](#-demo--video-giá»›i-thiá»‡u) â€¢ [ğŸš€ Báº¯t Äáº§u](#-cÃ i-Ä‘áº·t--khá»Ÿi-cháº¡y) â€¢ [ğŸ“– TÃ i Liá»‡u](#-tÃ i-liá»‡u-api) â€¢ [ğŸ¤ ÄÃ³ng GÃ³p](#-Ä‘Ã³ng-gÃ³p)

</div>

---

## ğŸ“º Demo & Video Giá»›i Thiá»‡u

### ğŸ¥ YouTube Demo

[![VAM Insurance Demo](https://img.shields.io/badge/â–¶ï¸_Xem_Demo_TrÃªn_YouTube-FF0000?style=for-the-badge&logo=youtube&logoColor=white)](https://www.youtube.com/watch?v=YOUR_VIDEO_ID)

> **LÆ°u Ã½:** Thay `YOUR_VIDEO_ID` báº±ng ID video YouTube thá»±c táº¿ cá»§a báº¡n

### ğŸ¯ CÃ¡c TÃ­nh NÄƒng Demo

- âœ… Xá»­ lÃ½ tÃ i liá»‡u thÃ´ng minh vá»›i AI
- âœ… PhÃ¢n tÃ­ch rá»§i ro thiÃªn tai theo thá»i gian thá»±c
- âœ… Chatbot tÆ° váº¥n báº£o hiá»ƒm AI
- âœ… Báº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡c hiá»ƒn thá»‹ vÃ¹ng rá»§i ro
- âœ… Quy trÃ¬nh mua báº£o hiá»ƒm hoÃ n chá»‰nh

---

## ğŸ“‹ Tá»•ng Quan

VAM Insurance lÃ  ná»n táº£ng báº£o hiá»ƒm ká»¹ thuáº­t sá»‘ toÃ n diá»‡n, káº¿t há»£p **xá»­ lÃ½ tÃ i liá»‡u thÃ´ng minh**, **phÃ¢n tÃ­ch rá»§i ro thiÃªn tai**, vÃ  **Ä‘á» xuáº¥t báº£o hiá»ƒm cÃ¡ nhÃ¢n hÃ³a**. Ná»n táº£ng táº­n dá»¥ng cÃ´ng nghá»‡ AI Ä‘á»ƒ cung cáº¥p phÃ¢n tÃ­ch tÃ i liá»‡u tá»± Ä‘á»™ng, giÃ¡m sÃ¡t thiÃªn tai theo thá»i gian thá»±c, vÃ  giáº£i phÃ¡p báº£o hiá»ƒm phÃ¹ há»£p cho cÃ¡ nhÃ¢n vÃ  doanh nghiá»‡p.


---

## âœ¨ TÃ­nh NÄƒng ChÃ­nh

### ğŸ¤– Xá»­ LÃ½ TÃ i Liá»‡u ThÃ´ng Minh

Ná»n táº£ng cung cáº¥p kháº£ nÄƒng phÃ¢n tÃ­ch tÃ i liá»‡u tiÃªn tiáº¿n Ä‘Æ°á»£c há»— trá»£ bá»Ÿi **Google Gemini AI**, cho phÃ©p trÃ­ch xuáº¥t vÃ  xÃ¡c thá»±c thÃ´ng tin há»£p Ä‘á»“ng báº£o hiá»ƒm tá»± Ä‘á»™ng.

**Kháº£ nÄƒng:**
- ğŸ“„ Há»— trá»£ Ä‘a Ä‘á»‹nh dáº¡ng: PDF, PNG, JPG, JPEG
- ğŸ” OCR tiáº¿ng Viá»‡t chÃ­nh xÃ¡c cao vá»›i Gemini Vision
- ğŸ¯ TrÃ­ch xuáº¥t dá»¯ liá»‡u cÃ³ cáº¥u trÃºc tá»« CCCD, giáº¥y phÃ©p lÃ¡i xe, há»£p Ä‘á»“ng báº£o hiá»ƒm
- ğŸ–¼ï¸ ÄÃ¡nh dáº¥u vÃ¹ng trá»±c quan (Visual Region Highlighting)
- âœï¸ Chá»‰nh sá»­a dá»¯ liá»‡u Ä‘Ã£ trÃ­ch xuáº¥t qua giao diá»‡n trá»±c quan
- ğŸ“Š Xuáº¥t thÃ´ng tin dáº¡ng JSON, Markdown, DOCX

**Loáº¡i tÃ i liá»‡u há»— trá»£:**
- CCCD/CMND (CÄƒn cÆ°á»›c cÃ´ng dÃ¢n)
- Báº±ng lÃ¡i xe (Driver License)  
- Há»£p Ä‘á»“ng báº£o hiá»ƒm (Insurance Policies)
- Giáº¥y Ä‘Äƒng kÃ½ xe (Vehicle Registration)
- Há»™ chiáº¿u (Passport)

### ğŸŒ PhÃ¢n TÃ­ch Rá»§i Ro ThiÃªn Tai

GiÃ¡m sÃ¡t thiÃªn tai theo thá»i gian thá»±c vÃ  Ä‘Ã¡nh giÃ¡ rá»§i ro giÃºp ngÆ°á»i dÃ¹ng Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh sÃ¡ng suá»‘t vá» pháº¡m vi báº£o hiá»ƒm.

**TÃ­nh nÄƒng:**
- ğŸ—ºï¸ Báº£n Ä‘á»“ thiÃªn tai tÆ°Æ¡ng tÃ¡c vá»›i **Leaflet** & **React Leaflet**
- â›ˆï¸ Dá»¯ liá»‡u thá»i tiáº¿t thá»i gian thá»±c tá»« **OpenWeatherMap API**
- ğŸ“ PhÃ¢n tÃ­ch vÃ¹ng miá»n (Báº¯c - Trung - Nam Viá»‡t Nam)
- ğŸ“ˆ Theo dÃµi sá»± kiá»‡n lá»‹ch sá»­ vÃ  xu hÆ°á»›ng rá»§i ro
- ğŸ¯ BÃ¡o cÃ¡o Ä‘Ã¡nh giÃ¡ rá»§i ro theo Ä‘á»‹a Ä‘iá»ƒm
- ğŸ”” Cáº£nh bÃ¡o thiÃªn tai (BÃ£o, LÅ© lá»¥t, Ngáº­p Ãºng, Sáº¡t lá»Ÿ)

**Dá»¯ liá»‡u thá»i tiáº¿t:**
- Nhiá»‡t Ä‘á»™, Ä‘á»™ áº©m, Ã¡p suáº¥t, lÆ°á»£ng mÆ°a
- Tá»‘c Ä‘á»™ giÃ³ (phÃ¡t hiá»‡n bÃ£o)
- Dá»± bÃ¡o 5 ngÃ y
- Cáº­p nháº­t má»—i 10 phÃºt
- NgÃ´n ngá»¯: Tiáº¿ng Viá»‡t

### ğŸ’¬ TÆ° Váº¥n Báº£o Hiá»ƒm ÄÆ°á»£c Há»— Trá»£ AI

Chatbot thÃ´ng minh cung cáº¥p hÆ°á»›ng dáº«n báº£o hiá»ƒm cÃ¡ nhÃ¢n hÃ³a, tráº£ lá»i cÃ¢u há»i vá» cÃ¡c lá»±a chá»n báº£o vá»‡, Ä‘iá»u khoáº£n há»£p Ä‘á»“ng vÃ  quy trÃ¬nh bá»“i thÆ°á»ng.

**Kháº£ nÄƒng:**
- ğŸ§  Powered by **Google Gemini Pro** vá»›i context window lá»›n
- ğŸ¯ Äá» xuáº¥t sáº£n pháº©m dá»±a trÃªn nhu cáº§u cÃ¡ nhÃ¢n
- ğŸ—£ï¸ Giáº£i thÃ­ch thuáº­t ngá»¯ báº£o hiá»ƒm phá»©c táº¡p báº±ng ngÃ´n ngá»¯ Ä‘Æ¡n giáº£n
- ğŸ  TÆ° váº¥n theo vÃ¹ng miá»n (Báº¯c/Trung/Nam)
- ğŸ”’ Báº£o máº­t thÃ´ng tin cÃ¡ nhÃ¢n (CCCD, Ä‘á»‹a chá»‰, Ä‘iá»‡n thoáº¡i)
- ğŸ“± Floating widget tiá»‡n lá»£i trÃªn má»i trang
- ğŸŒŠ Cross-sell & Up-sell: Combo NhÃ¢n thá» + Sá»©c khá»e + ThiÃªn tai

### ğŸ§­ PhÃ¢n TÃ­ch Äá»‹a LÃ½ ThÃ´ng Minh (Geo Intelligence)

**AI Insurance Geo-Analyst** phÃ¢n tÃ­ch Ä‘á»‹a chá»‰, thá»i tiáº¿t vÃ  rá»§i ro Ä‘á»ƒ Ä‘á» xuáº¥t báº£o hiá»ƒm phÃ¹ há»£p.

**Chá»©c nÄƒng:**
- ğŸ—¾ Nháº­n diá»‡n vÃ¹ng miá»n tá»« Ä‘á»‹a chá»‰ (23 tá»‰nh Báº¯c, 19 tá»‰nh Trung, 22 tá»‰nh Nam)
- âš ï¸ PhÃ¡t hiá»‡n tá»‰nh cÃ³ rá»§i ro cao (Quáº£ng BÃ¬nh, HÃ  TÄ©nh, Nghá»‡ An, Quáº£ng Nam, v.v.)
- ğŸŒ¦ï¸ PhÃ¢n tÃ­ch Ä‘iá»u kiá»‡n thá»i tiáº¿t & cáº£nh bÃ¡o thiÃªn tai
- ğŸ“‹ Äá» xuáº¥t gÃ³i báº£o hiá»ƒm theo logic AI (95% Báº£o hiá»ƒm bÃ£o, 90% Ngáº­p nÆ°á»›c, v.v.)
- ğŸ“Š BÃ¡o cÃ¡o chi tiáº¿t vá»›i lÃ½ do khuyáº¿n nghá»‹

---

## ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VAM Insurance Platform                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                           â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Frontend   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    Backend     â”‚
         â”‚  React 19    â”‚   REST    â”‚   FastAPI      â”‚
         â”‚  TypeScript  â”‚    API    â”‚   Python 3.11  â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                            â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚         â”‚            â”‚      â”‚        â”‚          â”‚
   â”Œâ”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â” â”Œâ”€â–¼â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”
   â”‚Vite â”‚  â”‚Zustandâ”‚ â”‚TanStackâ”‚ â”‚SQLiteâ”‚ â”‚Geminiâ”‚ â”‚Weatherâ”‚
   â”‚     â”‚  â”‚       â”‚ â”‚ Query â”‚  â”‚ DB   â”‚ â”‚ AI   â”‚ â”‚  API  â”‚
   â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Frontend Architecture
- **Framework:** React 19.1.1 vá»›i TypeScript 5.9.3
- **Build Tool:** Vite 7.1.14 (Rolldown bundler)
- **Styling:** TailwindCSS 3.4.0 + Radix UI Components
- **State:** Zustand 5.0.8 (lightweight)
- **Routing:** React Router DOM 7.9.4
- **Data Fetching:** TanStack Query 5.90.5
- **Maps:** Leaflet 1.9.4 + React Leaflet 5.0.0
- **Canvas:** Konva 10.0.7 + React Konva (Document annotation)
- **Markdown:** React Markdown + remark-gfm
- **Icons:** Lucide React 0.547.0 (1000+ icons)

### Backend Infrastructure
- **Framework:** FastAPI 0.104.1 (async support)
- **Server:** Uvicorn 0.24.0 with ASGI
- **ORM:** SQLAlchemy 2.0.23 (async capabilities)
- **Validation:** Pydantic 2.5.0
- **Auth:** JWT (PyJWT 2.8.0 + python-jose)
- **Password:** bcrypt 4.2.1
- **Database:** SQLite (dev) / PostgreSQL (production)

### AI & External APIs
- **Google Gemini AI** (google-generativeai 0.8.3)
  - Vision: OCR tiáº¿ng Viá»‡t, phÃ¡t hiá»‡n vÃ¹ng tÃ i liá»‡u
  - Pro: TÆ° váº¥n báº£o hiá»ƒm, trÃ­ch xuáº¥t dá»¯ liá»‡u cÃ³ cáº¥u trÃºc
  - Flash: PhÃ¢n tÃ­ch Ä‘á»‹a lÃ½ & thá»i tiáº¿t nhanh
  
- **OpenWeatherMap API** (via httpx 0.27.0)
  - Current Weather (cáº­p nháº­t 10 phÃºt)
  - 5-day Forecast
  - Vietnamese localization

### Document Processing
- **PyMuPDF (fitz)** 1.23.18 - PDF rendering
- **Pillow** 10.2.0 - Image processing
- **python-docx** 0.8.11 - Word documents
- **pdf2image** 1.16.3 - PDF to image conversion
- **ReportLab** 4.0.7 - Dynamic PDF generation

### Deployment Stack
- **Frontend:** Vercel (Global CDN, auto-deploy)
- **Backend:** Cloudflare Workers (Edge computing)
- **Storage:** Cloudflare R2 (S3-compatible)
- **Database:** Cloudflare D1 (Serverless SQLite)
- **Cost:** Free tier cho cáº£ stack

---

## ğŸš€ CÃ i Äáº·t & Khá»Ÿi Cháº¡y

### YÃªu Cáº§u Há»‡ Thá»‘ng

- **Node.js** 18+ (cho Frontend)
- **Python** 3.11+ (cho Backend)
- **Git** (cho version control)

### 1ï¸âƒ£ Clone Repository

```bash
git clone https://github.com/Ho-Duy-Vu/VAM-Insurance.git
cd VAM-Insurance
```

### 2ï¸âƒ£ CÃ i Äáº·t Backend

```bash
cd Backend

# Táº¡o virtual environment
python -m venv venv

# KÃ­ch hoáº¡t virtual environment
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# CÃ i Ä‘áº·t dependencies
pip install -r requirements.txt

# Cáº¥u hÃ¬nh biáº¿n mÃ´i trÆ°á»ng (.env)
echo "SECRET_KEY=your-secret-key-change-in-production" > .env
echo "GEMINI_API_KEY=your-google-gemini-api-key" >> .env
echo "OPENWEATHER_API_KEY=your-openweather-api-key" >> .env
echo "ACCESS_TOKEN_EXPIRE_MINUTES=10080" >> .env

# Khá»Ÿi Ä‘á»™ng server
python main.py
```

**Backend sáº½ cháº¡y táº¡i:** `http://localhost:8000`
- API Documentation: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

### 3ï¸âƒ£ CÃ i Äáº·t Frontend

```bash
cd Frontend

# CÃ i Ä‘áº·t dependencies
npm install

# Khá»Ÿi Ä‘á»™ng development server
npm run dev
```

**Frontend sáº½ cháº¡y táº¡i:** `http://localhost:5173`

### 4ï¸âƒ£ Seed Database (TÃ¹y chá»n)

```bash
cd Backend
python seed_disaster_locations.py
```

Lá»‡nh nÃ y sáº½ táº¡o dá»¯ liá»‡u máº«u cho cÃ¡c Ä‘á»‹a Ä‘iá»ƒm thiÃªn tai táº¡i Viá»‡t Nam.

---

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
VAM_TEAM/
â”œâ”€â”€ ğŸ“„ README.md                      # TÃ i liá»‡u chÃ­nh
â”œâ”€â”€ ğŸ”™ Backend/                       # FastAPI Backend
â”‚   â”œâ”€â”€ main.py                       # Entry point
â”‚   â”œâ”€â”€ run.py                        # Alternative runner
â”‚   â”œâ”€â”€ requirements.txt              # Python dependencies
â”‚   â”œâ”€â”€ render.yaml                   # Render deployment config
â”‚   â”œâ”€â”€ seed_disaster_locations.py    # Database seeder
â”‚   â”œâ”€â”€ ğŸ“¦ app/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ database.py               # SQLAlchemy config
â”‚   â”‚   â”œâ”€â”€ models.py                 # Database models
â”‚   â”‚   â”œâ”€â”€ schemas.py                # Pydantic schemas
â”‚   â”‚   â”œâ”€â”€ ai_service.py             # Gemini AI integration
â”‚   â”‚   â”œâ”€â”€ chat_service.py           # Insurance chatbot
â”‚   â”‚   â”œâ”€â”€ weather_service.py        # OpenWeatherMap API
â”‚   â”‚   â””â”€â”€ geo_analyst.py            # Geo intelligence
â”‚   â”œâ”€â”€ ğŸ“‚ data/
â”‚   â”‚   â”œâ”€â”€ docs/                     # Uploaded documents
â”‚   â”‚   â””â”€â”€ images/                   # Processed images
â”‚   â””â”€â”€ ğŸ§ª mock/
â”‚       â”œâ”€â”€ sample_fields.json
â”‚       â”œâ”€â”€ sample_markdown.md
â”‚       â””â”€â”€ sample_overlay.json
â”‚
â””â”€â”€ ğŸ¨ Frontend/                      # React Frontend
    â”œâ”€â”€ index.html
    â”œâ”€â”€ package.json
    â”œâ”€â”€ vite.config.ts
    â”œâ”€â”€ tsconfig.json
    â”œâ”€â”€ tailwind.config.js
    â”œâ”€â”€ postcss.config.js
    â”œâ”€â”€ ğŸ“‚ src/
    â”‚   â”œâ”€â”€ App.tsx                   # Main app component
    â”‚   â”œâ”€â”€ main.tsx                  # Entry point
    â”‚   â”œâ”€â”€ ğŸ”Œ api/
    â”‚   â”‚   â”œâ”€â”€ client.ts             # API client
    â”‚   â”‚   â”œâ”€â”€ geoAnalyst.ts         # Geo API
    â”‚   â”‚   â””â”€â”€ types.ts              # API types
    â”‚   â”œâ”€â”€ ğŸ§© components/
    â”‚   â”‚   â”œâ”€â”€ AIGeoAnalystPanel.tsx
    â”‚   â”‚   â”œâ”€â”€ FloatingChatWidget.tsx
    â”‚   â”‚   â”œâ”€â”€ InsuranceChatbot.tsx
    â”‚   â”‚   â”œâ”€â”€ OverlayCanvas.tsx     # Document annotation
    â”‚   â”‚   â”œâ”€â”€ MarkdownRenderer.tsx
    â”‚   â”‚   â”œâ”€â”€ JsonEditor.tsx
    â”‚   â”‚   â””â”€â”€ ui/                   # Radix UI components
    â”‚   â”œâ”€â”€ ğŸ“„ pages/
    â”‚   â”‚   â”œâ”€â”€ general/              # Home, About, Contact
    â”‚   â”‚   â”œâ”€â”€ auth/                 # Login, Register
    â”‚   â”‚   â”œâ”€â”€ insurance/            # Products, Application
    â”‚   â”‚   â”œâ”€â”€ documents/            # Document management
    â”‚   â”‚   â”œâ”€â”€ disaster/             # Disaster map
    â”‚   â”‚   â”œâ”€â”€ dashboard/            # Risk dashboard
    â”‚   â”‚   â””â”€â”€ user/                 # Profile, Settings
    â”‚   â”œâ”€â”€ ğŸ›£ï¸ routes/
    â”‚   â”‚   â””â”€â”€ index.tsx             # React Router config
    â”‚   â”œâ”€â”€ ğŸ—„ï¸ store/
    â”‚   â”‚   â”œâ”€â”€ document.ts           # Zustand store
    â”‚   â”‚   â””â”€â”€ insurance.ts
    â”‚   â”œâ”€â”€ ğŸ“Š data/
    â”‚   â”‚   â”œâ”€â”€ disasterData.ts
    â”‚   â”‚   â””â”€â”€ insurancePackages.ts  # Mock packages
    â”‚   â”œâ”€â”€ ğŸ£ hooks/
    â”‚   â”‚   â”œâ”€â”€ use-auth.ts
    â”‚   â”‚   â”œâ”€â”€ use-theme.ts
    â”‚   â”‚   â””â”€â”€ use-toast.ts
    â”‚   â””â”€â”€ ğŸ¨ contexts/
    â”‚       â”œâ”€â”€ auth-context.tsx
    â”‚       â””â”€â”€ theme-context.ts
```

---

## ğŸ“– TÃ i Liá»‡u API

### ğŸ” Authentication Endpoints

#### Register User
```http
POST /api/auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "securePassword123",
  "full_name": "Nguyá»…n VÄƒn A",
  "phone": "0901234567"
}
```

#### Login
```http
POST /api/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "securePassword123"
}

Response: {
  "access_token": "eyJhbGciOiJIUzI1NiIs...",
  "token_type": "bearer",
  "user": { ... }
}
```

### ğŸ“„ Document Processing Endpoints

#### Upload Document
```http
POST /documents/upload
Content-Type: multipart/form-data

file: [PDF/PNG/JPG file]

Response: {
  "document_id": "uuid-here",
  "filename": "document.pdf",
  "status": "NOT_STARTED"
}
```

#### Process Document (AI Analysis)
```http
POST /documents/{document_id}/process

Response: {
  "job_id": "job-uuid",
  "status": "PROCESSING",
  "progress": 0
}
```

#### Get Processing Status
```http
GET /jobs/{job_id}

Response: {
  "id": "job-uuid",
  "status": "DONE",
  "progress": 100,
  "document_id": "doc-uuid"
}
```

#### Get Extracted Data
```http
# JSON Format
GET /documents/{document_id}/json

# Markdown Format
GET /documents/{document_id}/markdown

# Visual Overlay (Bounding Boxes)
GET /documents/{document_id}/overlay
```

### ğŸŒ Disaster & Weather Endpoints

#### Get Disaster Locations
```http
GET /api/disasters

Response: [
  {
    "id": 1,
    "name": "HÃ  TÄ©nh",
    "latitude": 18.3426,
    "longitude": 105.9019,
    "disaster_type": "LÅ© lá»¥t",
    "severity": "Cao",
    "status": "active",
    "weather_info": { ... }
  }
]
```

#### Create Disaster Location
```http
POST /api/disasters
Content-Type: application/json

{
  "name": "Quáº£ng BÃ¬nh",
  "latitude": 17.4738,
  "longitude": 106.6222,
  "disaster_type": "BÃ£o",
  "severity": "Cao",
  "description": "VÃ¹ng thÆ°á»ng xuyÃªn bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi bÃ£o"
}
```

#### Update Weather Data
```http
POST /api/disasters/update-weather

Response: {
  "updated": 15,
  "failed": 0
}
```

### ğŸ§­ Geo Analyst Endpoints

#### Analyze Address & Weather
```http
POST /api/geo-analyst/analyze
Content-Type: application/json

{
  "address": "123 Nguyá»…n Huá»‡, Quáº­n 1, TP.HCM",
  "weatherDescription": "MÆ°a to, triá»u cÆ°á»ng"
}

Response: {
  "region": "Miá»n Nam",
  "risk_level": "Cao",
  "insurance_recommendations": [
    {
      "package": "Báº£o hiá»ƒm phÆ°Æ¡ng tiá»‡n ngáº­p nÆ°á»›c",
      "confidence": 90,
      "reason": "Nguy cÆ¡ ngáº­p Ãºng cao..."
    }
  ]
}
```

### ğŸ’¬ Chat Endpoints

#### Chat with Insurance Advisor
```http
POST /api/chat
Content-Type: application/json

{
  "message": "TÃ´i á»Ÿ miá»n Trung, nÃªn mua báº£o hiá»ƒm gÃ¬?",
  "conversationHistory": [],
  "userDocument": null
}

Response: {
  "response": "ğŸŒŠ Miá»n Trung Ä‘ang trong mÃ¹a bÃ£o lÅ©!..."
}
```

---

## ğŸ¯ Luá»“ng Sá»­ Dá»¥ng (User Flows)

### 1. Mua Báº£o Hiá»ƒm Má»›i

```
1. Trang chá»§ â†’ KhÃ¡m phÃ¡ cÃ¡c gÃ³i báº£o hiá»ƒm
2. Chá»n gÃ³i phÃ¹ há»£p â†’ Xem chi tiáº¿t quyá»n lá»£i
3. Nháº¥n "Mua ngay"
4. Upload CCCD/CMND â†’ AI tá»± Ä‘á»™ng Ä‘iá»n form
5. Upload giáº¥y Ä‘Äƒng kÃ½ xe (náº¿u cáº§n)
6. XÃ¡c nháº­n thÃ´ng tin â†’ Chá»n phÆ°Æ¡ng thá»©c thanh toÃ¡n
7. Thanh toÃ¡n â†’ Nháº­n há»£p Ä‘á»“ng Ä‘iá»‡n tá»­
```

### 2. PhÃ¢n TÃ­ch Rá»§i Ro ThiÃªn Tai

```
1. Menu â†’ "Báº£n Ä‘á»“ thiÃªn tai"
2. Xem cÃ¡c Ä‘iá»ƒm Ä‘á» (rá»§i ro cao) trÃªn báº£n Ä‘á»“
3. Click vÃ o Ä‘iá»ƒm â†’ Xem chi tiáº¿t thá»i tiáº¿t & rá»§i ro
4. Panel bÃªn pháº£i â†’ Nháº­n Ä‘á» xuáº¥t báº£o hiá»ƒm tá»« AI
5. Nháº¥n "Mua báº£o hiá»ƒm phÃ¹ há»£p"
```

### 3. TÆ° Váº¥n Qua Chatbot

```
1. Click icon chat gÃ³c pháº£i mÃ n hÃ¬nh
2. Há»i: "TÃ´i cáº§n báº£o hiá»ƒm gÃ¬ cho xe mÃ¡y?"
3. AI phÃ¢n tÃ­ch â†’ Äá» xuáº¥t 2-3 gÃ³i phÃ¹ há»£p
4. Click "Xem chi tiáº¿t gÃ³i" â†’ Chuyá»ƒn Ä‘áº¿n trang sáº£n pháº©m
```

### 4. Quáº£n LÃ½ Há»£p Äá»“ng

```
1. ÄÄƒng nháº­p â†’ Menu "Há»£p Ä‘á»“ng cá»§a tÃ´i"
2. Xem danh sÃ¡ch há»£p Ä‘á»“ng Ä‘ang cÃ³ hiá»‡u lá»±c
3. Click vÃ o há»£p Ä‘á»“ng â†’ Xem chi tiáº¿t, táº£i PDF
4. Ná»™p yÃªu cáº§u bá»“i thÆ°á»ng (náº¿u cáº§n)
```

---

## ğŸ”’ Báº£o Máº­t & Authentication

### JWT Token Authentication
- **Algorithm:** HS256
- **Expire:** 7 days (10080 minutes)
- **Storage:** localStorage (Frontend)
- **Header:** `Authorization: Bearer <token>`

### Password Security
- **Hashing:** bcrypt (cost factor 12)
- **Validation:** Min 8 characters, pháº£i cÃ³ chá»¯ hoa, chá»¯ thÆ°á»ng, sá»‘

### CORS Policy
- **Allowed Origins:** `http://localhost:5173` (dev), production URL
- **Methods:** GET, POST, PUT, DELETE
- **Headers:** Content-Type, Authorization

### Data Protection
- âŒ KHÃ”NG tiáº¿t lá»™ CCCD, Ä‘á»‹a chá»‰ chi tiáº¿t, sá»‘ Ä‘iá»‡n thoáº¡i trong chatbot
- âœ… Chá»‰ sá»­ dá»¥ng vÃ¹ng miá»n (Báº¯c/Trung/Nam) Ä‘á»ƒ tÆ° váº¥n
- ğŸ” MÃ£ hÃ³a dá»¯ liá»‡u nháº¡y cáº£m trong database
- ğŸ›¡ï¸ Input validation vá»›i Pydantic schemas

---

## ğŸ’¼ CÃ¡c TrÆ°á»ng Há»£p Sá»­ Dá»¥ng (Use Cases)

### ğŸ‘¤ Cho NgÆ°á»i DÃ¹ng CÃ¡ NhÃ¢n

- âœ… Upload CCCD Ä‘á»ƒ tá»± Ä‘á»™ng Ä‘iá»n form báº£o hiá»ƒm
- âœ… Nháº­n Ä‘á» xuáº¥t báº£o hiá»ƒm dá»±a trÃªn Ä‘á»‹a chá»‰ & rá»§i ro thiÃªn tai
- âœ… KhÃ¡m phÃ¡ vÃ¹ng rá»§i ro cao trÃªn báº£n Ä‘á»“
- âœ… So sÃ¡nh cÃ¡c gÃ³i báº£o hiá»ƒm khÃ¡c nhau
- âœ… TÆ° váº¥n 24/7 qua chatbot AI

### ğŸ¢ Cho Äáº¡i LÃ½ Báº£o Hiá»ƒm

- âœ… Xá»­ lÃ½ tÃ i liá»‡u tá»± Ä‘á»™ng â†’ Giáº£m nháº­p liá»‡u thá»§ cÃ´ng
- âœ… TrÃ­ch xuáº¥t thÃ´ng tin há»£p Ä‘á»“ng nhanh chÃ³ng
- âœ… CÃ´ng cá»¥ trá»±c quan Ä‘á»ƒ trÃ¬nh bÃ y sáº£n pháº©m cho khÃ¡ch hÃ ng
- âœ… BÃ¡o cÃ¡o Ä‘Ã¡nh giÃ¡ rá»§i ro tÃ­ch há»£p
- âœ… Quáº£n lÃ½ khÃ¡ch hÃ ng vÃ  há»£p Ä‘á»“ng hiá»‡u quáº£

### ğŸ  Cho Chá»§ NhÃ 

- âœ… ÄÃ¡nh giÃ¡ rá»§i ro thiÃªn tai cho Ä‘á»‹a Ä‘iá»ƒm cá»¥ thá»ƒ
- âœ… Hiá»ƒu rÃµ yÃªu cáº§u báº£o hiá»ƒm phÃ¹ há»£p cho tÃ i sáº£n
- âœ… Theo dÃµi sá»± kiá»‡n thiÃªn tai lá»‹ch sá»­ trong khu vá»±c
- âœ… Quyáº¿t Ä‘á»‹nh sÃ¡ng suá»‘t vá» nhu cáº§u báº£o hiá»ƒm tÃ i sáº£n

---

## ğŸ¨ TÃ­nh NÄƒng NÃ¢ng Cao

### Document Intelligence
- âœ… Xá»­ lÃ½ PDF nhiá»u trang vá»›i tÃ¡ch trang tá»± Ä‘á»™ng
- âœ… OCR & trÃ­ch xuáº¥t vÄƒn báº£n Ä‘á»™ chÃ­nh xÃ¡c cao
- âœ… PhÃ¡t hiá»‡n & phÃ¢n loáº¡i vÃ¹ng tÃ i liá»‡u (text, table, signature)
- âœ… Äáº§u ra JSON cÃ³ cáº¥u trÃºc vá»›i validation
- âœ… Chá»‰nh sá»­a dá»¯ liá»‡u Ä‘Ã£ trÃ­ch xuáº¥t qua giao diá»‡n trá»±c quan
- âœ… Xuáº¥t thÃ´ng tin dáº¡ng JSON, Markdown, DOCX

### Risk Assessment
- âœ… PhÃ¢n tÃ­ch Ä‘á»™ dá»… bá»‹ tá»•n thÆ°Æ¡ng Ä‘á»‹a lÃ½ trÆ°á»›c thiÃªn tai
- âœ… TÃ­ch há»£p dá»¯ liá»‡u thá»i tiáº¿t hiá»‡n táº¡i & dá»± bÃ¡o
- âœ… Táº¡o bÃ¡o cÃ¡o rá»§i ro toÃ n diá»‡n vá»›i visualization
- âœ… Dá»¯ liá»‡u thiÃªn tai lá»‹ch sá»­ cho phÃ¢n tÃ­ch xu hÆ°á»›ng dÃ i háº¡n

### AI Capabilities
- âœ… Natural language understanding (Gemini Pro)
- âœ… Context-aware responses (8K+ context window)
- âœ… Multi-turn conversations vá»›i memory
- âœ… Sentiment analysis cho customer satisfaction
- âœ… Auto-suggest insurance packages

---

## ğŸ› ï¸ Scripts & Commands

### Backend Commands

```bash
# Development
python main.py                        # Start FastAPI server
python run.py                          # Alternative runner

# Database
python seed_disaster_locations.py     # Seed disaster data

# Testing (náº¿u cÃ³)
pytest                                 # Run tests
pytest --cov                           # With coverage
```

### Frontend Commands

```bash
# Development
npm run dev                            # Start Vite dev server
npm run build                          # Build for production
npm run preview                        # Preview production build

# Code Quality
npm run lint                           # Run ESLint
npm run lint:fix                       # Fix lint errors

# Type Checking
tsc --noEmit                           # Check TypeScript errors
```

---

## ğŸš¢ Deployment

### Frontend (Vercel)

```bash
# Tá»± Ä‘á»™ng deploy khi push lÃªn GitHub
git push origin main

# Hoáº·c deploy thá»§ cÃ´ng
cd Frontend
npm run build
# Upload folder dist/ lÃªn Vercel Dashboard
```

**Environment Variables (Vercel):**
```
VITE_API_URL=https://your-backend-url.com
```

### Backend (Render / Cloudflare Workers)

**Render:**
```yaml
# render.yaml Ä‘Ã£ cÃ³ sáºµn
services:
  - type: web
    name: vam-insurance-backend
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: python main.py
```

**Cloudflare Workers:**
```bash
# Cáº§n chuyá»ƒn Ä‘á»•i sang Cloudflare Workers format
# Hoáº·c sá»­ dá»¥ng Cloudflare Pages Functions
```

**Environment Variables:**
```
SECRET_KEY=your-production-secret-key
GEMINI_API_KEY=your-gemini-api-key
OPENWEATHER_API_KEY=your-openweather-key
ACCESS_TOKEN_EXPIRE_MINUTES=10080
```

---

## ğŸ§ª Testing

### Backend Testing

```python
# tests/test_ai_service.py
def test_analyze_document():
    result = analyze_auto_document(image_path)
    assert result["status"] == "success"
    assert "fullName" in result["data"]
```

### Frontend Testing

```typescript
// CÃ³ thá»ƒ thÃªm Vitest hoáº·c Jest
import { render, screen } from '@testing-library/react'
import HomePage from './pages/general/HomePage'

test('renders homepage', () => {
  render(<HomePage />)
  expect(screen.getByText(/VAM Insurance/i)).toBeInTheDocument()
})
```

---

## ğŸ“¦ Dependencies

### Backend Key Dependencies

| Package | Version | Purpose |
|---------|---------|---------|
| fastapi | 0.104.1 | Web framework |
| uvicorn | 0.24.0 | ASGI server |
| sqlalchemy | 2.0.23 | ORM |
| pydantic | 2.5.0 | Data validation |
| google-generativeai | 0.8.3 | Gemini AI |
| PyMuPDF | 1.23.18 | PDF processing |
| Pillow | 10.2.0 | Image processing |
| httpx | 0.27.0 | HTTP client |
| python-jose | 3.3.0 | JWT |
| bcrypt | 4.2.1 | Password hashing |

### Frontend Key Dependencies

| Package | Version | Purpose |
|---------|---------|---------|
| react | 19.1.1 | UI framework |
| typescript | 5.9.3 | Type safety |
| vite | 7.1.14 | Build tool |
| @tanstack/react-query | 5.90.5 | Data fetching |
| zustand | 5.0.8 | State management |
| react-router-dom | 7.9.4 | Routing |
| tailwindcss | 3.4.0 | Styling |
| leaflet | 1.9.4 | Maps |
| konva | 10.0.7 | Canvas |
| react-markdown | 10.1.0 | Markdown |

---

## ğŸ¤ ÄÃ³ng GÃ³p

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p! 

### CÃ¡ch ÄÃ³ng GÃ³p

1. **Fork** repository
2. **Clone** fork cá»§a báº¡n:
   ```bash
   git clone https://github.com/YOUR_USERNAME/VAM-Insurance.git
   ```
3. **Táº¡o branch** má»›i:
   ```bash
   git checkout -b feature/amazing-feature
   ```
4. **Commit** thay Ä‘á»•i:
   ```bash
   git commit -m "Add some amazing feature"
   ```
5. **Push** lÃªn branch:
   ```bash
   git push origin feature/amazing-feature
   ```
6. **Táº¡o Pull Request** trÃªn GitHub

### Coding Standards

- **Backend:** Follow PEP 8 (Python)
- **Frontend:** Follow ESLint config
- **Commits:** Use conventional commits (`feat:`, `fix:`, `docs:`, etc.)
- **Documentation:** Update README khi thÃªm feature má»›i

---

## ğŸ“ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c cáº¥p phÃ©p theo giáº¥y phÃ©p **MIT License**. Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

```
MIT License

Copyright (c) 2026 VAM Insurance Team

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software")...
```

---

## ğŸ‘¥ Äá»™i NgÅ© PhÃ¡t Triá»ƒn

- **Product Owner:** [TÃªn]
- **Tech Lead:** [TÃªn]
- **Backend Developer:** [TÃªn]
- **Frontend Developer:** [TÃªn]
- **UI/UX Designer:** [TÃªn]
- **QA Engineer:** [TÃªn]

---

## ğŸ“ LiÃªn Há»‡ & Há»— Trá»£

- **GitHub Issues:** [https://github.com/Ho-Duy-Vu/VAM-Insurance/issues](https://github.com/Ho-Duy-Vu/VAM-Insurance/issues)
- **Email:** support@vam-insurance.com
- **Website:** [https://vam-insurance.vercel.app](https://vam-insurance.vercel.app)
- **Documentation:** [https://docs.vam-insurance.com](https://docs.vam-insurance.com)

---

## ğŸ™ Acknowledgments

- **Google Gemini AI** - Cung cáº¥p kháº£ nÄƒng AI máº¡nh máº½
- **OpenWeatherMap** - Dá»¯ liá»‡u thá»i tiáº¿t thá»i gian thá»±c
- **Vercel** - Hosting frontend miá»…n phÃ­
- **Cloudflare** - Edge computing infrastructure
- **Radix UI** - Accessible component primitives
- **Shadcn UI** - Beautiful component examples
- **Leaflet** - Interactive maps
- **FastAPI Community** - Excellent documentation

---

## ğŸ—ºï¸ Roadmap

### Q1 2026
- âœ… MVP Launch vá»›i core features
- âœ… Gemini AI integration
- âœ… Disaster map vá»›i OpenWeatherMap
- ğŸ”² Mobile app (React Native)

### Q2 2026
- ğŸ”² Payment gateway integration (VNPay, Momo)
- ğŸ”² Email notifications (SendGrid)
- ğŸ”² SMS alerts (Twilio)
- ğŸ”² Advanced analytics dashboard

### Q3 2026
- ğŸ”² Multi-language support (English, Chinese)
- ğŸ”² Voice assistant (Google Speech API)
- ğŸ”² Blockchain insurance contracts
- ğŸ”² IoT device integration

### Q4 2026
- ğŸ”² AI-powered claim processing
- ğŸ”² Predictive analytics for disasters
- ğŸ”² Partner insurance company API integration
- ğŸ”² B2B enterprise features

---

<div align="center">

**[â¬† Vá» Äáº§u Trang](#-vam-insurance-platform)**

Made with â¤ï¸ by VAM Team | Â© 2026 VAM Insurance Platform

[![GitHub stars](https://img.shields.io/github/stars/Ho-Duy-Vu/VAM-Insurance?style=social)](https://github.com/Ho-Duy-Vu/VAM-Insurance/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/Ho-Duy-Vu/VAM-Insurance?style=social)](https://github.com/Ho-Duy-Vu/VAM-Insurance/network/members)
[![GitHub watchers](https://img.shields.io/github/watchers/Ho-Duy-Vu/VAM-Insurance?style=social)](https://github.com/Ho-Duy-Vu/VAM-Insurance/watchers)

</div>


### Insurance Recommendation
AI-driven product matching considers user profiles, location data, and risk factors to suggest optimal coverage options. The recommendation engine explains policy features and benefits in clear language, compares multiple insurance packages side-by-side, and adapts suggestions based on budget constraints and coverage preferences.

### User Experience
The responsive design ensures seamless access across desktop, tablet, and mobile devices. Theme customization allows users to switch between light and dark modes for comfortable viewing. Real-time progress indicators keep users informed during document processing, and interactive visualizations make complex data accessible and understandable.

## Deployment

The platform is production-ready with fully serverless deployment architecture. The frontend deploys to **Vercel** with automatic builds triggered by GitHub commits, global CDN distribution for fast load times, and environment-based configuration. The backend runs on **Cloudflare Workers** at the edge with sub-50ms response times globally, automatic HTTPS, DDoS protection, and unlimited bandwidth. File uploads are stored in **Cloudflare R2** with 10GB free storage, and data persists in **Cloudflare D1** serverless database. This architecture eliminates server maintenance while providing enterprise-grade performance and reliability on free tiers.

## Development

The codebase maintains high standards with TypeScript for type safety across the frontend, Pydantic for data validation in the backend, and comprehensive error handling throughout the application. The development environment supports hot module replacement for rapid development, environment-based configuration for different deployment stages, and modular component architecture for maintainability.

## Innovation

VAM Insurance represents the convergence of traditional insurance services with modern AI technology. By automating document processing, providing intelligent risk analysis, and offering personalized recommendations, the platform transforms how users interact with insurance products. The system reduces administrative overhead, improves decision-making through data-driven insights, and makes insurance accessible and understandable for everyone.

---

**VAM Insurance Platform** - Intelligent Insurance Solutions for a Safer Future

*Powered by AI Technology | Built for Users | Designed for Scale*